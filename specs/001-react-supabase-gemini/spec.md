# Feature Specification: 블로그 사이트 제작

**Feature Branch**: `001-react-supabase-gemini`  
**Created**: 2025-10-11
**Status**: Draft  
**Input**: User description: "react와 supabase를 사용하고 모든 페이지에는 상단 네비게이션 바가 있고 메인 페이지에는 게시글 목록들이 최신 순, 인기순 등으로 정렬할 수 있는 작은 텍스트 버튼과 함께 나타나며, 로그인 및 회원가입 기능이 있고 이에 강력한 보안 설정을 Gemini가 직접 적용시킴(알아서), 또한 게시글 작성 기능은 로그인 시에만 사용할 수 있으며 게시글 작성란에는 제목, 탭(주제나 태그같은 개념), 내용 작성란 등이 있고 내용 작성란에는 사용자가 이미지를 붙여넣을 시 velog나 Github 처럼 자동으로 a태그 형식을 변환 시켜 파일을 첨부하지 않고도 게시글 내용에 보일 수 있도록 함, 관리자 권한이 있을 예정이며 여기에는 강력한 보안설정을 적용하고 이 기능 구현 시 관리자 권한을 적용할 유저가 누구인지 물어봐야함, 사용자 본인이 작성한 게시글은 수정 또는 삭제할 수 있어야 하며 이때 다른 사용자가 함부로 삭제 또는 수정할 수 없어야 함(단, 관리자 권한을 가진 유저는 수정 및 삭제가 가능함). 모든 페이지는 블랙 테마로 제작되어야 함."

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 게시글 조회 및 정렬 (Priority: P1)

방문자는 사이트에 접속하여 게시글 목록을 보고, '최신순' 또는 '인기순'으로 정렬하여 원하는 글을 쉽게 찾을 수 있다.

**Why this priority**: 사이트의 핵심 기능으로, 모든 방문자에게 가장 먼저 노출되는 기능이다. 사용자가 콘텐츠를 소비하는 가장 기본적인 경로이므로 최우선 순위를 가진다.

**Independent Test**: 비로그인 상태로 메인 페이지에 접속하여 게시글 목록이 보이는지, 정렬 버튼이 작동하는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 방문자가 메인 페이지에 접속했을 때, **When** 페이지 로딩이 완료되면, **Then** 게시글 목록이 기본 정렬(예: 최신순)으로 표시된다.
2. **Given** 게시글 목록이 표시된 상태에서, **When** '인기순' 정렬 버튼을 클릭하면, **Then** 게시글 목록이 인기순으로 재정렬되어 표시된다.

---

### User Story 2 - 사용자 가입 및 로그인 (Priority: P1)

사용자는 사이트에 계정을 생성하고 로그인하여 게시글 작성 등의 개인화된 기능을 사용할 수 있다.

**Why this priority**: 콘텐츠 생성을 포함한 대부분의 상호작용 기능의 전제 조건이다. 사용자 기반을 확보하기 위한 필수 기능이다.

**Independent Test**: 상단 네비게이션 바의 '회원가입' 버튼을 통해 가입을 완료하고, 동일한 정보로 '로그인'하여 세션이 생성되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 비로그인 상태의 사용자가, **When** 유효한 정보(이메일, 비밀번호)를 입력하고 '회원가입'을 시도하면, **Then** 계정이 성공적으로 생성되고 로그인 페이지로 안내된다.
2. **Given** 가입된 사용자가, **When** 올바른 이메일과 비밀번호로 '로그인'을 시도하면, **Then** 로그인이 성공하고 상단 네비게이션 바에 사용자 프로필이 표시된다.

---

### User Story 3 - 게시글 작성 및 이미지 첨부 (Priority: P2)

로그인한 사용자는 제목, 탭, 내용을 포함하는 새 게시글을 작성할 수 있으며, 내용에 이미지를 붙여넣기만 해도 자동으로 본문에 표시되게 할 수 있다.

**Why this priority**: 사이트의 핵심 목적인 'WriteUp 작성'을 실현하는 기능이다. 사용자 참여를 유도하고 콘텐츠를 생산하는 중심 기능이다.

**Independent Test**: 로그인한 상태에서 '글쓰기' 페이지로 이동하여 모든 필드를 채우고, 외부 이미지를 복사하여 본문에 붙여넣은 후 '발행' 버튼을 눌러 글이 정상적으로 생성되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 로그인한 사용자가 '글쓰기' 페이지에 있을 때, **When** 제목, 탭, 내용을 모두 입력하고 '발행' 버튼을 누르면, **Then** 새로운 게시글이 생성되고 해당 게시글 페이지로 이동한다.
2. **Given** 사용자가 내용 작성란에 커서를 둔 상태에서, **When** 클립보드에 복사된 이미지를 붙여넣으면(Ctrl+V), **Then** 이미지가 본문에 즉시 표시되고, 발행 후에도 정상적으로 보인다.

---

### User Story 4 - 게시글 수정 및 삭제 (Priority: P2)

사용자는 자신이 작성한 게시글을 언제든지 수정하거나 삭제할 수 있다.

**Why this priority**: 사용자가 자신의 콘텐츠를 관리할 수 있는 기본 권한을 제공하여 서비스 사용성을 높인다.

**Independent Test**: 자신이 작성한 게시글 상세 페이지에서 '수정' 버튼을 눌러 내용을 변경하고 저장되는지 확인하고, '삭제' 버튼을 눌러 글이 목록에서 사라지는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 사용자가 자신이 작성한 게시글을 보고 있을 때, **When** '수정' 버튼을 누르고 내용을 변경한 뒤 저장하면, **Then** 변경된 내용이 게시글에 반영된다.
2. **Given** 사용자가 자신이 작성한 게시글을 보고 있을 때, **When** '삭제' 버튼을 누르고 확인하면, **Then** 해당 게시글이 시스템에서 삭제되고 목록에서 보이지 않는다.

---

### User Story 5 - 관리자의 게시글 관리 (Priority: P3)

관리자 권한을 가진 사용자는 다른 사람이 작성한 게시글을 포함하여 모든 게시글을 수정하거나 삭제할 수 있다.

**Why this priority**: 서비스의 콘텐츠 품질을 유지하고 부적절한 콘텐츠를 관리하기 위한 운영 필수 기능이다.

**Independent Test**: 관리자 계정으로 로그인하여 다른 사용자가 작성한 게시글 상세 페이지에 '수정' 및 '삭제' 버튼이 노출되는지, 그리고 기능이 정상 작동하는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 관리자가 다른 사용자의 게시글을 보고 있을 때, **When** '수정' 또는 '삭제' 버튼을 누르면, **Then** 해당 작업을 수행할 수 있다.

### Edge Cases

- 사용자가 로그인하지 않은 상태에서 글쓰기 페이지 URL에 직접 접근 시 어떻게 처리할 것인가? (예: 로그인 페이지로 리디렉션)
- 이미지 붙여넣기 시, 지원되지 않는 이미지 형식이거나 크기가 너무 클 경우 어떻게 처리할 것인가? (예: 에러 메시지 표시)
- 여러 사용자가 동시에 같은 글을 수정하려고 할 때 어떻게 처리할 것인가? (예: 마지막 저장 우선 또는 충돌 방지 메커니즘)

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템은 프론트엔드에 **React**, 백엔드 및 데이터베이스에 **Supabase**를 사용해야 한다.
- **FR-002**: 모든 페이지 상단에는 일관된 네비게이션 바가 있어야 한다.
- **FR-003**: 메인 페이지는 게시글 목록을 표시해야 하며, '최신순', '인기순' 정렬 기능을 제공해야 한다.
- **FR-004**: 시스템은 사용자 회원가입 및 로그인 기능을 제공해야 한다.
- **FR-005**: 시스템은 게시글 작성 기능을 제공하며, 이는 로그인한 사용자만 이용할 수 있다.
- **FR-006**: 게시글 편집기는 '제목', '탭', '내용' 입력 필드를 포함해야 한다.
- **FR-007**: 내용 편집기는 클립보드의 이미지를 붙여넣었을 때, 자동으로 본문에 삽입하는 기능을 지원해야 한다.
- **FR-008**: 사용자는 자신이 작성한 게시글을 수정 및 삭제할 수 있어야 한다.
- **FR-009**: 타인의 게시글은 관리자 외에는 수정 및 삭제할 수 없어야 한다.
- **FR-010**: 관리자(Admin) 역할이 존재해야 하며, 모든 게시글에 대한 수정/삭제 권한을 가진다.
- **FR-011**: 모든 페이지는 블랙 테마 디자인을 적용해야 한다.
- **FR-012**: 시스템은 다음을 포함한 강력한 인증 보안을 적용해야 한다: (a) 2단계 인증(MFA), (b) 최소 10자 이상의 비밀번호 복잡도 규칙(대/소문자, 숫자, 특수문자 포함), (c) 구글, 깃헙을 이용한 소셜 로그인(OAuth).
- **FR-013**: 관리자 계정은 로그인 시 항상 2단계 인증(MFA)을 강제하여 추가적인 보안 계층을 적용해야 한다.
- **FR-014**: 시스템은 서버 배포 후 CLI(명령줄 인터페이스)를 통해 특정 사용자에게 관리자 권한을 부여하는 명령어를 제공해야 한다.

### Key Entities *(include if feature involves data)*

- **User**: 사용자 계정. (속성: ID, 이메일, 비밀번호 해시, 역할 - 일반사용자/관리자)
- **Post**: 블로그 게시글. (속성: ID, 제목, 내용, 작성자, 생성일, 수정일, 탭)
- **Tab**: 게시글에 사용되는 주제 또는 태그. (속성: ID, 이름)

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 신규 사용자가 회원가입부터 첫 게시글을 발행하기까지 3분 안에 완료할 수 있다.
- **SC-002**: 모든 페이지의 평균 로딩 시간은 2초 미만을 유지한다. (표준 네트워크 환경 기준)
- **SC-003**: 게시글 목록의 정렬 기능은 1초 안에 응답한다.
- **SC-004**: 서비스의 모든 UI는 일관된 블랙 테마를 유지하며, 주요 기능(글쓰기, 읽기, 정렬) 사용 시 시각적 결함이 없어야 한다.